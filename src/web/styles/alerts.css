@import "_global.css";

/* ── Alert wrapper ─────────────────────────────────── */
.alerts-new {
	margin: 50px;
	font-family: "Monoton";
	text-transform: uppercase;
	font-size: 6em;
	position: relative;
}

/* ── Alert entrance / exit ─────────────────────────── */
.alert-enter-active {
	animation: alert-in 0.5s ease-out both;
}

.alert-leave-active {
	animation: alert-out 1s ease-in both;
}

@keyframes alert-in {
	from { opacity: 0; transform: scale(0.96); filter: blur(6px); }
	to   { opacity: 1; transform: scale(1);    filter: blur(0); }
}

@keyframes alert-out {
	from { opacity: 1; }
	to   { opacity: 0; filter: blur(3px); }
}

/* ── Alert container ───────────────────────────────── */
.alert-container {
	position: relative;
}

/* ── Sign (one line of text) ───────────────────────── */
.sign {
	display: table;
	position: relative;
	margin-left: calc(100% - 95%);
	color: var(--sign-color);
	text-shadow:
		0 0 0.3rem var(--sign-lightest),
		0 0 0.6rem var(--sign-lightest),
		0 0 1.5rem var(--sign-light),
		-0.2rem 0.1rem 1rem var(--sign-light),
		0.2rem 0.1rem 1rem var(--sign-light),
		0 -0.5rem 2rem var(--sign-dark),
		0 0.5rem 3rem var(--sign-color),
		0 0 4rem var(--sign-dark);
	animation: flicker 3s infinite;
	z-index: 50;
}

/* Ambient wall-glow behind each sign */
.sign::after {
	content: '';
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	width: 120%;
	height: 350%;
	background: radial-gradient(
		ellipse at center,
		var(--sign-glow, transparent) 0%,
		transparent 70%
	);
	opacity: var(--glow-opacity, 0.18);
	z-index: -1;
	pointer-events: none;
	transition: opacity 0.8s ease-out;
}

/* ── Color themes (parametric via custom properties) ── */
.sign.pink {
	--sign-color: var(--neonpink);
	--sign-lightest: var(--lightestneonpink);
	--sign-light: var(--lightneonpink);
	--sign-dark: var(--darkneonpink);
	--sign-darkest: var(--darkestneonpink);
	--sign-glow: var(--neonpink);
}

.sign.pink:not(:first-child) {
	margin-left: calc(100% - 90%);
	margin-top: -10px;
}

.sign.blue {
	--sign-color: var(--neonblue);
	--sign-lightest: var(--lightestneonblue);
	--sign-light: var(--lightneonblue);
	--sign-dark: var(--darkneonblue);
	--sign-darkest: var(--darkestneonblue);
	--sign-glow: var(--neonblue);
	margin-top: -90px;
	margin-left: unset;
	z-index: 100;
	position: absolute;
}

.sign.blue.small {
	font-size: .5em;
	margin-left: 200px;
	margin-top: -60px;
	z-index: 200;
	text-shadow:
		0 0 0.1rem var(--sign-lightest),
		0 0 0.15rem var(--sign-lightest),
		0 0 .75rem var(--sign-light),
		-0.2rem 0.1rem .25rem var(--sign-light),
		0.2rem 0.1rem .25rem var(--sign-light),
		0 -0.5rem .5rem var(--sign-dark),
		0 0.5rem .75rem var(--sign-color);
}

.sign.red {
	--sign-color: var(--gift-red-bright);
	--sign-lightest: var(--gift-red-light);
	--sign-light: var(--gift-red);
	--sign-dark: var(--gift-red-dark);
	--sign-darkest: var(--gift-red-dark);
	--sign-glow: var(--gift-red-bright);
}

.sign.red:not(:first-child) {
	margin-left: calc(100% - 90%);
	margin-top: -10px;
}

.sign.green {
	--sign-color: var(--gift-green-dark);
	--sign-lightest: var(--gift-green-light);
	--sign-light: var(--gift-green);
	--sign-dark: var(--gift-green-darker);
	--sign-darkest: var(--gift-green-darker);
	--sign-glow: var(--gift-green);
	margin-top: -90px;
	margin-left: unset;
	z-index: 100;
	position: absolute;
}

/* ── Letter (individual character) ─────────────────── */
.letter {
	display: inline-block;
	min-width: 20px;
	will-change: opacity, color, text-shadow;
	animation:
		shine var(--shine-dur, 1.5s) var(--cascade-delay, 0s) both,
		blink var(--blink-dur, 4s) var(--blink-delay, 2s) infinite;
}

.letter.dying {
	animation: die var(--dying-dur, 0.7s) forwards !important;
}

.letter.off {
	animation: none !important;
	color: var(--sign-darkest);
	text-shadow: none;
	opacity: 0.15;
}

/* ── Keyframes ─────────────────────────────────────── */

/* Turn on: dark → full neon glow */
@keyframes shine {
	0% {
		opacity: 0;
		color: var(--sign-darkest);
		text-shadow: none;
	}
	30% {
		opacity: 0.4;
		color: var(--sign-dark);
		text-shadow: 0 0 0.2rem var(--sign-dark);
	}
	60% {
		opacity: 0.8;
		color: var(--sign-color);
	}
	100% {
		opacity: 1;
		color: var(--sign-lightest);
		text-shadow:
			0 0 0.3rem var(--sign-lightest),
			0 0 0.6rem var(--sign-lightest),
			0 0 1.5rem var(--sign-light),
			-0.2rem 0.1rem 1rem var(--sign-light),
			0.2rem 0.1rem 1rem var(--sign-light),
			0 -0.5rem 2rem var(--sign-dark),
			0 0.5rem 3rem var(--sign-color),
			0 0 4rem var(--sign-dark);
	}
}

/* Ongoing neon flicker (one set works for every color) */
@keyframes blink {
	0%,
	22%,
	36%,
	75% {
		color: var(--sign-lightest);
		text-shadow:
			0 0 0.3rem var(--sign-lightest),
			0 0 0.6rem var(--sign-lightest),
			0 0 1.5rem var(--sign-light),
			-0.2rem 0.1rem 1rem var(--sign-light),
			0.2rem 0.1rem 1rem var(--sign-light),
			0 -0.5rem 2rem var(--sign-dark),
			0 0.5rem 3rem var(--sign-color),
			0 0 4rem var(--sign-dark);
	}
	28%,
	33% {
		color: var(--sign-light);
		text-shadow: none;
	}
	82%,
	97% {
		color: var(--sign-color);
		text-shadow: none;
	}
}

/* Letter sputters and dies */
@keyframes die {
	0% {
		opacity: 1;
		color: var(--sign-lightest);
		text-shadow:
			0 0 0.3rem var(--sign-lightest),
			0 0 0.6rem var(--sign-lightest),
			0 0 1.5rem var(--sign-light),
			-0.2rem 0.1rem 1rem var(--sign-light),
			0.2rem 0.1rem 1rem var(--sign-light),
			0 -0.5rem 2rem var(--sign-dark),
			0 0.5rem 3rem var(--sign-color);
	}
	10% { opacity: 0.15; text-shadow: none; }
	20% {
		opacity: 0.7;
		text-shadow: 0 0 0.5rem var(--sign-light);
	}
	30% { opacity: 0.05; text-shadow: none; }
	42% {
		opacity: 0.5;
		text-shadow: 0 0 0.3rem var(--sign-dark);
	}
	52% { opacity: 0; text-shadow: none; }
	64% {
		opacity: 0.25;
		text-shadow: 0 0 0.2rem var(--sign-dark);
	}
	75% { opacity: 0; text-shadow: none; }
	88% { opacity: 0.1; }
	100% {
		opacity: 0.15;
		color: var(--sign-darkest);
		text-shadow: none;
	}
}

/* Subtle overall opacity pulse (applied to .sign container) */
@keyframes flicker {
	from { opacity: 1; }
	4% { opacity: 0.9; }
	6% { opacity: 0.85; }
	8% { opacity: 0.95; }
	10% { opacity: 0.9; }
	11% { opacity: 0.922; }
	12% { opacity: 0.9; }
	14% { opacity: 0.95; }
	16% { opacity: 0.98; }
	17% { opacity: 0.9; }
	19% { opacity: 0.93; }
	20% { opacity: 0.99; }
	24% { opacity: 1; }
	26% { opacity: 0.94; }
	28% { opacity: 0.98; }
	37% { opacity: 0.93; }
	38% { opacity: 0.5; }
	39% { opacity: 0.96; }
	42% { opacity: 1; }
	44% { opacity: 0.97; }
	46% { opacity: 0.94; }
	56% { opacity: 0.9; }
	58% { opacity: 0.9; }
	60% { opacity: 0.99; }
	68% { opacity: 1; }
	70% { opacity: 0.9; }
	72% { opacity: 0.95; }
	93% { opacity: 0.93; }
	95% { opacity: 0.95; }
	97% { opacity: 0.93; }
	to { opacity: 1; }
}



/* ── Vue transition helpers ────────────────────────── */
.fade-leave-active {
	animation: unset;
	transition: opacity 2s;
}

.fade-leave-to {
	opacity: 0;
}
